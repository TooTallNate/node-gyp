{
  "targets": [
    {
      "target_name": "hello",
      "sources": [ "hello.c" ],
      "conditions": [
        [
          "OS == 'emscripten'",
          {
            "product_extension": "node.js",
            "ldflags": [
              '-sMODULARIZE=1',
              '-sEXPORT_NAME=hello',
              '-sWASM_ASYNC_COMPILATION=0'
            ],
            'xcode_settings': {
              'OTHER_LDFLAGS': [
                '-sMODULARIZE=1',
                '-sEXPORT_NAME=hello',
                '-sWASM_ASYNC_COMPILATION=0'
              ]
            }
          },
        ]
      ]
    }
  ]
}
